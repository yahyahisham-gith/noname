-- admin-hub-V1
-- Universal Admin Hub (WASD Fly + Tool-Name Chat Bypass)
-- Compatibility: Xeno Executor

-- [1] KILLSWITCH & CLEANUP
if _G.HubRunning then 
    _G.HubStop = true 
    local oldGui = game.CoreGui:FindFirstChild("AdminHubV1") or game:GetService("Players").LocalPlayer.PlayerGui:FindFirstChild("AdminHubV1")
    if oldGui then oldGui:Destroy() end
    task.wait(0.3) 
end
_G.HubRunning = true
_G.HubStop = false

local Player = game:GetService("Players").LocalPlayer
local UserInputService = game:GetService("UserInputService")

-- [2] BYPASS CHAT LOGIC (Tool Name Method)
-- This works because Tool names replicate to everyone when you hold them.
local function SayViaTool(text)
    local Character = Player.Character
    if not Character then return end
    
    local Tool = Character:FindFirstChildOfClass("Tool") or Player.Backpack:FindFirstChildOfClass("Tool")
    
    if Tool then
        Tool.Name = text
        Tool.Parent = Character -- Equip it so they see the name change
        task.wait(5)
        Tool.Name = "AdminTool" -- Reset name after 5 seconds
    else
        -- If no tool, we try the "Humanoid DisplayName" method (Works in many games)
        local Humanoid = Character:FindFirstChild("Humanoid")
        if Humanoid then
            local oldName = Humanoid.DisplayName
            Humanoid.DisplayName = "[CHAT]: " .. text
            task.wait(5)
            Humanoid.DisplayName = oldName
        end
    end
end

-- [3] UI CREATION
local ScreenGui = Instance.new("ScreenGui")
pcall(function() ScreenGui.Parent = game:GetService("CoreGui") end)
if not ScreenGui.Parent then ScreenGui.Parent = Player.PlayerGui end
ScreenGui.Name = "AdminHubV1"

local Main = Instance.new("Frame", ScreenGui)
Main.Size = UDim2.new(0, 220, 0, 300)
Main.Position = UDim2.new(0.5, -110, 0.4, -150)
Main.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Main.Active = true
Main.Draggable = true
Instance.new("UICorner", Main).CornerRadius = UDim.new(0, 10)

local Title = Instance.new("TextLabel", Main)
Title.Size = UDim2.new(1, 0, 0, 40)
Title.Text = "ADMIN HUB V1 (BYPASS)"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.GothamBold

-- CHAT BOX
local ChatInput = Instance.new("TextBox", Main)
ChatInput.Size = UDim2.new(0.9, 0, 0, 40)
ChatInput.Position = UDim2.new(0.05, 0, 0.2, 0)
ChatInput.PlaceholderText = "Type message here..."
ChatInput.Text = ""
ChatInput.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
ChatInput.TextColor3 = Color3.fromRGB(255, 255, 255)
Instance.new("UICorner", ChatInput)

-- SEND BUTTON
local SendBtn = Instance.new("TextButton", Main)
SendBtn.Size = UDim2.new(0.9, 0, 0, 40)
SendBtn.Position = UDim2.new(0.05, 0, 0.4, 0)
SendBtn.Text = "SAY (REPLICATED)"
SendBtn.BackgroundColor3 = Color3.fromRGB(0, 120, 200)
SendBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
Instance.new("UICorner", SendBtn)

SendBtn.MouseButton1Click:Connect(function()
    if ChatInput.Text ~= "" then
        SayViaTool(ChatInput.Text)
        ChatInput.Text = ""
    end
end)

-- CLOSE BUTTON
local CloseBtn = Instance.new("TextButton", Main)
CloseBtn.Size = UDim2.new(0.9, 0, 0, 30)
CloseBtn.Position = UDim2.new(0.05, 0, 0.85, 0)
CloseBtn.Text = "Close Hub"
CloseBtn.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
Instance.new("UICorner", CloseBtn)
CloseBtn.MouseButton1Click:Connect(function() ScreenGui:Destroy() end)
