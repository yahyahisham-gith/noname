-- admin-hub-V1
-- Universal Admin Hub (Draggable + Dual Gear + Bubble Chat)
-- Compatibility: Xeno Executor

-- [1] CLEANUP
if _G.HubRunning then 
    _G.HubStop = true 
    local old = game.CoreGui:FindFirstChild("AdminHubV1") or game.Players.LocalPlayer.PlayerGui:FindFirstChild("AdminHubV1")
    if old then old:Destroy() end
    task.wait(0.3) 
end
_G.HubRunning = true
_G.HubStop = false
_G.Flying = false

local Player = game.Players.LocalPlayer
local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

-- [2] GEAR LOGIC
local function GiveUniversalGear(id)
    local success, gear = pcall(function() return game:GetObjects("rbxassetid://" .. id)[1] end)
    if success and gear then
        gear.Parent = Player.Backpack
    end
end

local function GiveInGameGear(name)
    -- Searches ReplicatedStorage, Lighting, and StarterPack for the gear
    local found = false
    local locations = {game:GetService("ReplicatedStorage"), game:GetService("Lighting"), game:GetService("StarterPack")}
    for _, loc in pairs(locations) do
        local tool = loc:FindFirstChild(name, true)
        if tool and tool:IsA("Tool") then
            tool:Clone().Parent = Player.Backpack
            found = true
            break
        end
    end
    if not found then print("Gear not found in game files: " .. name) end
end

-- [3] UI CONSTRUCTION
local ScreenGui = Instance.new("ScreenGui")
pcall(function() ScreenGui.Parent = game:GetService("CoreGui") end)
if not ScreenGui.Parent then ScreenGui.Parent = Player.PlayerGui end
ScreenGui.Name = "AdminHubV1"

-- Main Container (This is what you click to drag)
local Main = Instance.new("Frame", ScreenGui)
Main.Size = UDim2.new(0, 240, 0, 400)
Main.Position = UDim2.new(0.5, -120, 0.4, -200)
Main.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
Main.Active = true
Main.Draggable = true -- Standard dragging enabled on the outer frame
Instance.new("UICorner", Main)

local Title = Instance.new("TextLabel", Main)
Title.Size = UDim2.new(1, 0, 0, 40); Title.Text = "ADMIN HUB V1"; Title.TextColor3 = Color3.new(1,1,1)
Title.BackgroundTransparency = 1; Title.Font = Enum.Font.GothamBold

-- Scroll Area (Inside the main frame)
local Scroll = Instance.new("ScrollingFrame", Main)
Scroll.Size = UDim2.new(1, 0, 1, -50)
Scroll.Position = UDim2.new(0, 0, 0, 45)
Scroll.BackgroundTransparency = 1
Scroll.CanvasSize = UDim2.new(0, 0, 1.8, 0)
Scroll.ScrollBarThickness = 4

local UIList = Instance.new("UIListLayout", Scroll)
UIList.Padding = UDim.new(0, 8); UIList.HorizontalAlignment = Enum.HorizontalAlignment.Center

-- Helper to make buttons/inputs
local function NewInput(placeholder)
    local i = Instance.new("TextBox", Scroll)
    i.Size = UDim2.new(0.9, 0, 0, 35); i.PlaceholderText = placeholder
    i.BackgroundColor3 = Color3.fromRGB(40, 40, 40); i.TextColor3 = Color3.new(1,1,1)
    Instance.new("UICorner", i); return i
end

local function NewBtn(text, color)
    local b = Instance.new("TextButton", Scroll)
    b.Size = UDim2.new(0.9, 0, 0, 35); b.Text = text
    b.BackgroundColor3 = color; b.TextColor3 = Color3.new(1,1,1)
    Instance.new("UICorner", b); return b
end

-- --- GEAR MENU 1: CATALOG IDs ---
local UniInput = NewInput("Catalog Gear ID...")
local UniBtn = NewBtn("GET CATALOG GEAR", Color3.fromRGB(0, 150, 100))
UniBtn.MouseButton1Click:Connect(function() GiveUniversalGear(UniInput.Text) end)

-- --- GEAR MENU 2: IN-GAME GEAR ---
local GameInput = NewInput("In-Game Gear Name...")
local GameBtn = NewBtn("GET GAME GEAR", Color3.fromRGB(0, 100, 200))
GameBtn.MouseButton1Click:Connect(function() GiveInGameGear(GameInput.Text) end)

-- --- BUBBLE CHAT (MUTE BYPASS) ---
-- Use this while your 1-day suspension is active
local ChatInput = NewInput("Bubble Message...")
local SendBtn = NewBtn("SEND BUBBLE", Color3.fromRGB(120, 0, 200))
SendBtn.MouseButton1Click:Connect(function()
    if ChatInput.Text ~= "" and Player.Character:FindFirstChild("Head") then
        local b = Instance.new("BillboardGui", Player.Character.Head); b.Size = UDim2.new(0, 200, 0, 50); b.ExtentsOffset = Vector3.new(0, 3, 0)
        local f = Instance.new("Frame", b); f.Size = UDim2.new(1,0,1,0); f.BackgroundColor3 = Color3.new(1,1,1); Instance.new("UICorner", f)
        local l = Instance.new("TextLabel", f); l.Size = UDim2.new(1,0,1,0); l.Text = ChatInput.Text; l.TextScaled = true; l.BackgroundTransparency = 1
        task.delay(5, function() b:Destroy() end); ChatInput.Text = ""
    end
end)

-- --- FLY ---
local FlyBtn = NewBtn("FLY: OFF", Color3.fromRGB(60, 60, 60))
FlyBtn.MouseButton1Click:Connect(function()
    _G.Flying = not _G.Flying
    FlyBtn.Text = _G.Flying and "FLY: ON" or "FLY: OFF"
    FlyBtn.BackgroundColor3 = _G.Flying and Color3.fromRGB(0, 200, 100) or Color3.fromRGB(60, 60, 60)
    if _G.Flying then
        task.spawn(function()
            local Root = Player.Character:WaitForChild("HumanoidRootPart")
            local BV = Instance.new("BodyVelocity", Root); BV.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
            local BG = Instance.new("BodyGyro", Root); BG.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
            while _G.Flying and not _G.HubStop do
                BG.CFrame = workspace.CurrentCamera.CFrame
                local moveDir = Vector3.new(0,0,0)
                if UIS:IsKeyDown(Enum.KeyCode.W) then moveDir = moveDir + workspace.CurrentCamera.CFrame.LookVector end
                if UIS:IsKeyDown(Enum.KeyCode.S) then moveDir = moveDir - workspace.CurrentCamera.CFrame.LookVector end
                if UIS:IsKeyDown(Enum.KeyCode.A) then moveDir = moveDir - workspace.CurrentCamera.CFrame.RightVector end
                if UIS:IsKeyDown(Enum.KeyCode.D) then moveDir = moveDir + workspace.CurrentCamera.CFrame.RightVector end
                BV.Velocity = (moveDir.Magnitude > 0) and (moveDir.Unit * 70) or Vector3.new(0,0,0)
                RunService.Stepped:Wait()
            end
            BV:Destroy(); BG:Destroy()
        end)
    end
end)

-- --- CLOSE ---
local CloseBtn = NewBtn("Close Hub", Color3.fromRGB(150, 0, 0))
CloseBtn.MouseButton1Click:Connect(function() _G.HubStop = true; _G.Flying = false; ScreenGui:Destroy() end)
