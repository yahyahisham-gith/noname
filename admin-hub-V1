-- admin-hub-V1
-- Universal Admin Hub (Camera-Relative Fly)
-- Compatibility: Xeno Executor

-- [1] KILLSWITCH & CLEANUP
if _G.HubRunning then 
    _G.HubStop = true 
    if game.CoreGui:FindFirstChild("AdminHubV1") then game.CoreGui.AdminHubV1:Destroy() end
    task.wait(0.3) 
end
_G.HubRunning = true
_G.HubStop = false

local Player = game.Players.LocalPlayer
local Camera = workspace.CurrentCamera
local RunService = game:GetService("RunService")

-- [2] FLY LOGIC (Camera-Relative: Look up to go up)
local function ExecuteFly()
    local Character = Player.Character
    if not Character then return end
    local Root = Character:WaitForChild("HumanoidRootPart")
    local Humanoid = Character:WaitForChild("Humanoid")

    -- Remove existing forces to prevent glitches
    for _, v in pairs(Root:GetChildren()) do
        if v:IsA("BodyVelocity") or v:IsA("BodyGyro") then v:Destroy() end
    end

    local BV = Instance.new("BodyVelocity", Root)
    local BG = Instance.new("BodyGyro", Root)
    
    BV.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
    BV.Velocity = Vector3.new(0, 0, 0)
    
    BG.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
    BG.P = 15000 -- Smoothness of rotation
    
    local FlySpeed = 60

    task.spawn(function()
        while not _G.HubStop and Character and Character.Parent do
            local CameraCFrame = Camera.CFrame
            BG.CFrame = CameraCFrame
            
            -- Direction calculation based on WASD
            local MoveDirection = Humanoid.MoveDirection
            
            if MoveDirection.Magnitude > 0 then
                -- This part makes it follow the Camera's LookVector
                -- If you look up and press W, you go up.
                BV.Velocity = CameraCFrame.LookVector * (MoveDirection.Magnitude * FlySpeed)
            else
                BV.Velocity = Vector3.new(0, 0, 0)
            end
            
            RunService.RenderStepped:Wait()
        end
        BV:Destroy()
        BG:Destroy()
    end)
end

-- [3] UI CREATION
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "AdminHubV1"

local Main = Instance.new("Frame", ScreenGui)
Main.Size = UDim2.new(0, 200, 0, 220)
Main.Position = UDim2.new(0.5, -100, 0.4, -110)
Main.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
Main.Active = true
Main.Draggable = true
Instance.new("UICorner", Main)

local Title = Instance.new("TextLabel", Main)
Title.Size = UDim2.new(1, 0, 0, 40)
Title.Text = "ADMIN HUB V1"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.GothamBold

-- Button Helper
local function CreateButton(text, pos, color, func)
    local btn = Instance.new("TextButton", Main)
    btn.Size = UDim2.new(0.9, 0, 0, 35)
    btn.Position = pos
    btn.Text = text
    btn.BackgroundColor3 = color
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.Font = Enum.Font.Gotham
    Instance.new("UICorner", btn)
    btn.MouseButton1Click:Connect(func)
end

-- [4] BUTTONS
CreateButton("Fly (Camera Rel)", UDim2.new(0.05, 0, 0.2, 0), Color3.fromRGB(0, 120, 200), ExecuteFly)

CreateButton("Inf Time", UDim2.new(0.05, 0, 0.4, 0), Color3.fromRGB(0, 150, 80), function()
    task.spawn(function()
        while not _G.HubStop do
            pcall(function() Player.leaderstats.Time.Value = 9e15 end)
            task.wait(0.5)
        end
    end)
end)

CreateButton("Speed 100", UDim2.new(0.05, 0, 0.6, 0), Color3.fromRGB(150, 100, 0), function()
    if Player.Character then Player.Character.Humanoid.WalkSpeed = 100 end
end)

CreateButton("Close Hub", UDim2.new(0.05, 0, 0.8, 0), Color3.fromRGB(150, 0, 0), function()
    _G.HubStop = true
    ScreenGui:Destroy()
end)
